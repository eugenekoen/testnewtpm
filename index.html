<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turningpoint Musos</title>

    <!-- Stylesheets here -->
    <link rel="shortcut icon" href="./style/images/LOGO.jpg" />
    <link rel="stylesheet" href="./style/mainapp.css">
    <!-- ---------------- -->

    <!-- Fonts here -->
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <!-- ---------- -->

    <!-- Scripts here -->
    <!-- <script type="text/javascript" src="./assets/jquery/jquery.transposer.js"></script> -->
    <!------------------>

</head>

<body>
    <div id="navigation">
        <div id="textdiv">
            TURNING POINT MUSOS
        </div>
    </div>

    <div>
        <table id="tableone">
            <caption>SONG LIST</caption>
            <thead>
                <tr>
                    <td>NAME OF SONG</td>
                    <td>CHORDS</td>
                    <td>LYRICS</td>
                </tr>
            </thead>
            <tbody>
                <!-- SONG 1 -->
                <tr>
                    <td>This is Amazing Grace</td>
                    <td class="clickable" data-song-name="this-is-amazing-grace" data-content-type="chords"
                        data-target="song-content">Chords</td>
                    <td class="clickable" data-song-name="this-is-amazing-grace" data-content-type="lyrics">Lyrics</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Inside the event listener, ensure the DOM is fully loaded
            const preElement = document.querySelector('pre');
            if (preElement) {
                const songURL = `https://eugenekoen.github.io/testnewtpm/assets/${contentType}/${songName}.txt`;

                fetch(songURL)
                    .then(response => {
                        if (!response.ok) throw new Error(`Failed to load song content for ${songName}`);
                        return response.text();
                    })
                    .then(songContent => {
                        preElement.textContent = songContent;
                    })
                    .catch(error => {
                        console.error("Error: ", error.message);
                        // Handle error loading content
                    });
            } else {
                console.error("No <pre> tag found in the template.");
            }
        });

        // Inside the loadSong function
        function loadSong(songName, contentType) {
            const songURL = `https://eugenekoen.github.io/testnewtpm/assets/${contentType}/${songName}.txt`;

            fetch(songURL)
                .then(response => {
                    if (!response.ok) throw new Error(`Failed to load song content for ${songName}`);
                    return response.text();
                })
                .then(songContent => {
                    // Create a container to hold the song content
                    const songContainer = document.createElement('div');
                    songContainer.innerHTML = songContent;

                    // Replace the content of the template's <pre> tag with the song content
                    const preElement = document.querySelector('pre');
                    if (preElement) {
                        preElement.textContent = songContainer.innerHTML;
                    } else {
                        console.error("No <pre> tag found in the template.");
                    }
                })
                .catch(error => {
                    console.error("Error: ", error.message);
                    document.body.innerHTML = `<p>Error loading content: ${error.message}</p>`;
                });
        }

        });

    </script>


</body>

</html>